{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>Create a New Driver</h2>

    <!-- Display form errors if any -->
    {% if form.errors %}
    <div class="alert alert-danger">
        <ul>
            {% for field in form %}
            {% for error in field.errors %}
            <li>{{ field.name }}: {{ error }}</li>
            {% endfor %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Driver creation form -->
    <form method="POST" class="form">
        {% csrf_token %}

        <div class="mb-3">
            <label for="id_name" class="form-label">Name:</label>
            <input type="text" class="form-control" id="id_name" name="name" value="{{ form.name.value }}">
        </div>

        <div class="mb-3">
            <label for="id_vehicle_number" class="form-label">Vehicle Number:</label>
            <input type="text" class="form-control" id="id_vehicle_number" name="vehicle_number" value="{{ form.vehicle_number.value }}">
        </div>

        <div class="mb-3">
            <label for="id_phone_number" class="form-label">Phone Number:</label>
            <input type="text" class="form-control" id="id_phone_number" name="phone_number" value="{{ form.phone_number.value }}">
        </div>

        <div class="mb-3">
            <label for="id_is_available" class="form-label">Is Available:</label>
            <select class="form-select" id="id_is_available" name="is_available">
                <option value="True" {% if form.is_available.value == 'True' %} selected{% endif %}>Yes</option>
                <option value="False" {% if form.is_available.value == 'False' %} selected{% endif %}>No</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Save Driver</button>
    </form>

    <div class="mt-4">
        <a href="{% url 'drivers_list' %}" class="btn btn-secondary">Back to Driver List</a>
    </div>
</div>
{% endblock %}
